# rd-knowledge-sample ビジネス要件定義書

## 📋 プロジェクト概要

| 項目 | 内容 |
|------|------|
| **プロジェクト名** | rd-knowledge-sample |
| **目的** | AWS Nova シリーズ導入のための技術検証 |
| **カテゴリ** | R&D / 技術検証 |
| **開始日** | 2024-12-25 |
| **完了予定日** | 2026-01-31 |

---

## 🎯 プロジェクト目標

**AWS Nova シリーズを活用した3つの独立したAIエージェントを構築し、管理画面UIで切り替えながら実行・検証できるシステムを完成させる。**

### 成功基準（KPI）

| 指標 | 目標値 | 測定方法 |
|------|--------|----------|
| テストケース完成数 | 3/3 | Memory, Multimodal, Voice Dialogue |
| 管理画面UI機能 | 3機能切り替え可能 | UIテスト |
| AWS本番デプロイ | 完了 | CDK deploy 成功 |
| E2Eテスト通過率 | 100% | pytest 結果 |

---

## 🧪 3つのテストケース

### テストケース①: Memory（記憶システム）

**目的**: AIエージェントの記憶・知識管理機能を検証

| コンポーネント | AWS サービス | 用途 |
|---------------|-------------|------|
| **会話メモリ** | AgentCore Memory | エピソード記憶、セッション履歴 |
| **知識ベース** | Bedrock Knowledge Bases | ドキュメントRAG、マネージド検索 |
| **ベクトル検索** | S3 Vectors | 大量ベクトル、低コスト保存 |
| **グラフ検索** | Neo4j (EC2) | エンティティ関係、時間軸追跡 |

**現状**: ✅ 完了（API実装、デプロイ済み）

---

### テストケース②: Multimodal（マルチモーダル）

**目的**: 画像・動画・音声を含むマルチモーダル入出力を検証

| 機能 | AWS サービス | 用途 |
|------|-------------|------|
| **画像認識** | Nova (Vision) | 画像内容の理解・質問応答 |
| **画像生成** | Nova Canvas | テキストからの画像生成 |
| **動画認識** | Nova (Video) | 動画内容の理解・要約 |
| **動画生成** | Nova Reel | テキストからの動画生成 |

**検証項目**:
- [ ] 画像入力 → テキスト出力（画像理解）
- [ ] テキスト入力 → 画像出力（画像生成）
- [ ] 動画入力 → テキスト出力（動画要約）
- [ ] テキスト入力 → 動画出力（動画生成）
- [ ] 複合入力（テキスト + 画像）→ 応答

**現状**: ❌ 未着手

---

### テストケース③: Voice Dialogue（音声対話）

**目的**: リアルタイム音声対話AIエージェントを検証

| 機能 | AWS サービス | 用途 |
|------|-------------|------|
| **音声認識** | Amazon Transcribe / Nova | 音声 → テキスト変換 |
| **対話生成** | Nova (Text) | テキスト応答生成 |
| **音声合成** | Amazon Polly / Nova | テキスト → 音声変換 |
| **リアルタイム** | WebSocket (API Gateway) | 低遅延双方向通信 |

**検証項目**:
- [ ] 音声入力 → テキスト変換（STT）
- [ ] テキスト → 音声出力（TTS）
- [ ] エンドツーエンド音声対話
- [ ] 遅延測定（< 500ms 目標）
- [ ] 多言語対応（日本語・英語）

**現状**: ❌ 未着手

---

## 🖥️ 管理画面UI要件

### 機能要件

| 機能 | 説明 | 現状 |
|------|------|------|
| **テストケース切り替え** | Memory / Multimodal / Voice を選択 | 🔄 部分的 |
| **Memory テスト** | 記憶作成・検索・削除の実行 | ✅ 完了 |
| **Multimodal テスト** | 画像/動画のアップロード・生成 | ❌ 未実装 |
| **Voice テスト** | マイク入力・音声出力 | ❌ 未実装 |
| **結果表示** | JSON形式での応答表示 | ✅ 完了 |
| **履歴管理** | テスト実行履歴の保存・閲覧 | ❌ 未実装 |

### UI設計

```
┌─────────────────────────────────────────────────────────────┐
│  🔬 AWS Nova 技術検証ダッシュボード                           │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────────┐  ┌──────────────┐            │
│  │ 🧠 Memory │  │ 🎨 Multimodal │  │ 🎤 Voice     │            │
│  │  (Active) │  │              │  │              │            │
│  └─────────┘  └─────────────┘  └──────────────┘            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                テスト実行パネル                       │   │
│  │                                                       │   │
│  │  [入力エリア]                                         │   │
│  │                                                       │   │
│  │  [実行ボタン]                                         │   │
│  │                                                       │   │
│  │  [結果表示エリア]                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 📐 技術アーキテクチャ

### システム構成図

```
┌─────────────────────────────────────────────────────────────────┐
│                      Next.js Frontend                            │
│  ┌──────────┐  ┌──────────────┐  ┌─────────────┐               │
│  │ Memory   │  │ Multimodal   │  │ Voice       │               │
│  │ Tester   │  │ Tester       │  │ Tester      │               │
│  └────┬─────┘  └──────┬───────┘  └──────┬──────┘               │
└───────┼───────────────┼─────────────────┼──────────────────────┘
        │               │                 │
        ▼               ▼                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                    API Gateway (REST + WebSocket)               │
└───────┬───────────────┬─────────────────┬──────────────────────┘
        │               │                 │
        ▼               ▼                 ▼
┌──────────────┐ ┌──────────────┐ ┌──────────────┐
│ Memory       │ │ Multimodal   │ │ Voice        │
│ Lambda       │ │ Lambda       │ │ Lambda       │
└──────┬───────┘ └──────┬───────┘ └──────┬───────┘
       │                │                │
       ▼                ▼                ▼
┌──────────────────────────────────────────────────────────────────┐
│                        AWS Services                               │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐ │
│  │ AgentCore  │  │ Bedrock    │  │ S3 Vectors │  │ Neo4j      │ │
│  │ Memory     │  │ Nova       │  │            │  │ (EC2)      │ │
│  └────────────┘  └────────────┘  └────────────┘  └────────────┘ │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐                 │
│  │ Transcribe │  │ Polly      │  │ S3         │                 │
│  │            │  │            │  │ (Assets)   │                 │
│  └────────────┘  └────────────┘  └────────────┘                 │
└──────────────────────────────────────────────────────────────────┘
```

---

## 📊 開発フェーズ

| Phase | 内容 | 状態 | 担当 |
|-------|------|------|------|
| **Phase 1-6** | Memory テストケース | ✅ 完了 | AI |
| **Phase 7** | Multimodal テストケース | ⏳ 未着手 | - |
| **Phase 8** | Voice Dialogue テストケース | ⏳ 未着手 | - |
| **Phase 9** | 管理画面UI統合 | ⏳ 未着手 | - |
| **Phase 10** | E2Eテスト・ドキュメント | ⏳ 未着手 | - |

---

## 💰 コスト見積もり

### 月額コスト概算

| サービス | Memory | Multimodal | Voice | 合計 |
|---------|--------|------------|-------|------|
| Lambda | $5 | $10 | $15 | $30 |
| API Gateway | $3 | $5 | $10 | $18 |
| AgentCore Memory | $20 | - | - | $20 |
| Bedrock (Nova) | $30 | $100 | $50 | $180 |
| S3 Vectors | $5 | - | - | $5 |
| Neo4j (EC2) | $30 | - | - | $30 |
| S3 (Assets) | - | $20 | $10 | $30 |
| Transcribe | - | - | $30 | $30 |
| Polly | - | - | $20 | $20 |
| **合計** | **$93** | **$135** | **$135** | **~$363/月** |

※ 開発・検証用途のため実際の利用量により変動

---

## 🔗 関連ドキュメント

- [MEMORY_ARCHITECTURE_DESIGN.md](../MEMORY_ARCHITECTURE_DESIGN.md) - Memory アーキテクチャ設計
- [GRAPHITI_INTEGRATION_DESIGN.md](../GRAPHITI_INTEGRATION_DESIGN.md) - Graph 統合設計
- [ENVIRONMENT_COMPARISON.md](./ENVIRONMENT_COMPARISON.md) - 環境比較
- [TASKS.csv](./TASKS.csv) - タスク管理

---

## 📝 変更履歴

| 日付 | 変更内容 | 担当 |
|------|----------|------|
| 2026-01-02 | 初版作成、ビジネス要件定義 | AI |

